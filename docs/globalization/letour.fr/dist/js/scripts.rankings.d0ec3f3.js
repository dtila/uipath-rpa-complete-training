(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{47:function(t,a,e){e(48)},48:function(t,a,e){e(49)},49:function(t,a){$(function(){$(".formSearchConcurrent").on("submit",function(t){t.preventDefault(),t.stopPropagation()});for(var t=$(".js-tabs-bigwrapper .js-tabs-ranking").length,a={},e=0;e<t;e++){a[$(".js-tabs-bigwrapper .js-tabs-ranking:eq("+e+")").data("type")]=$(".js-tabs-bigwrapper .js-tabs-ranking:eq("+e+")").jtabs({oneTabContent:!0,type:"ajax"}).data("plugin_jtabs")}var s=$(".js-oneday").length>0,n=$(".js-multiple-ranks").length>0;!s||n?$(".js-tabs-bigwrapper .js-tabs-ranking-nested").jtabs({activeClass:"is-selected",limPropagation:!1,oneTabContent:!0,type:"ajax"}):$(".js-tabs-bigwrapper .js-tabs-ranking-nested").on("click",function(){return!1}),$(".js-tabs-bigwrapper .js-tabs-ranking").on("tabs-loaded",function(){var t=$(this).closest(".js-tabs-bigwrapper").find(".hScroll");if($(".js-tabs-bigwrapper .js-tabs-ranking-nested").jtabs({activeClass:"is-selected",limPropagation:!1,oneTabContent:!0,type:"ajax"}),t.length){t.hScroll();var a=t.find(".js-tabs-parent.is-selected").position().left;t.scrollLeft(a)}os._scroll()}),$(".js-tabs-bigwrapper .js-tabs-ranking").on("tabs-showed",function(){$(".js-tabs-bigwrapper .js-tabs-ranking-nested").on("tabs-loaded",function(){$(this).closest(".js-tabs-bigwrapper").find(".hScroll").hScroll(),bLazy.revalidate(),os._scroll()}),$(".js-tabs-bigwrapper .js-tabs-ranking-nested").on("click",function(){$(this).closest(".js-tabs-bigwrapper .js-tabs-content").attr("data-id",$(this).data("tab-ref")),$(this).closest(".js-tabs-bigwrapper").attr("data-current-tab",$(this).data("tab-ref"))}),bLazy.revalidate()}),$(".js-tabs-bigwrapper .js-tabs-ranking").on("click",function(){$(this).closest(".js-tabs-bigwrapper").attr("data-current-type",$(this).data("type"))}),$(".js-tabs-bigwrapper .js-tabs-ranking-nested").on("click",function(){$(this).closest(".js-tabs-bigwrapper .js-tabs-content").attr("data-id",$(this).data("tab-ref")),$(this).closest(".js-tabs-bigwrapper").attr("data-current-tab",$(this).data("tab-ref"))}),$(".js-tabs-bigwrapper .js-tabs-ranking-nested").on("tabs-loaded",function(){$(this).closest(".js-tabs-bigwrapper").find(".hScroll").hScroll(),bLazy.revalidate(),os._scroll()}),$(".js-tabs-bigwrapper .js-tabs-ranking, .js-tabs-bigwrapper .js-tabs-ranking-nested").on("beforeRequest",function(t,a){if(!a.$element.data("tabs-ajax")){var e,s,n=$(".js-tabs-bigwrapper .js-tabs-parent.is-active"),i=$(".js-tabs-bigwrapper .js-tabs-parent:not(.is-active)"),r=n.find(".js-tabs-ranking"),o=i.find(".js-tabs-ranking");if($(".form__text").val(""),a.$element.data("ajax-stack"))s=a.$element.closest(".js-tabs-bigwrapper").attr("data-current-tab"),s+=a.$element.data("type"),e=a.$element.data("ajax-stack")[s];else{if(!a.$element.data("tab-ref"))return;s=a.$element.data("tab-ref"),s+=a.$element.closest(".js-tabs-bigwrapper").attr("data-current-type"),e=r.data("ajax-stack")[s]}e||(e=o.data("ajax-stack")[Object.keys(o.data("ajax-stack"))[0]]),a.urlToLoad=e}}),$(".rankings").on("click",".js-extend-table",function(t){t.preventDefault(),utils.jsExtend(this),os._scroll()});var i={};$(".js-tabs-bigwrapper .js-formSearchConcurrent").on("click",function(t){t.stopPropagation();var a=$("input[name=name]"),e=$("input[name=bib]");if(0!=a.length||0!=e.length){var s={},n=$(".js-tabs-bigwrapper .js-tabs-parent.is-active > *").data("type"),r=$(".js-tabs-bigwrapper .js-tabs-content:last");if(a.length&&(s.name=a.first().val()),e.length&&(s.bib=e.first().val()),i.hasOwnProperty(n))r.empty().append(l(r,i[n],s)),os._scroll();else{var o=$(this).data("ranking-"+n+"-url");r.closest(".js-spinner-wrapper").addClass("is-tabs-loading").append(utils.getSpinner()),$.get(o,function(t){i[n]=t,r.empty().append(l(r,t,s))}).fail(function(){r.html("Oups ! Something went wrong...")}).always(function(){r.closest(".js-spinner-wrapper").removeClass("is-tabs-loading").find(".js-spinner").remove(),os._scroll()})}}function l(t,a,e){var s=function(t,a){var e=t.slice(0);a.name.trim().length>0&&(e=e.filter(function(t){for(var e=!1,s=0;s<t.vehicle.competitors.length;s++){var n=t.vehicle.competitors[s];if(!n)return!1;if(!n.rider)return!1;var i=n.rider.firstname.toLowerCase(),r=n.rider.lastname.toLowerCase(),o=a.name.trim().toLowerCase();(i.match(o)||r.match(o)||(i+" "+r).match(o.replace(/\s+/g," ")))&&(e=!0)}return e}));var s=new RegExp("^"+a.bib.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$","ig");a.bib.trim().length>0&&(e=e.filter(function(t){return t.vehicle.bib.toString().match(s)}));return e}(a.rankings,e),n=a.translations,i=$("body").hasClass("webview"),r=$("table.searchTable").clone(),o=a.isSearch?"hidden--xs hidden--sm":"";if(0==s.length)return $("<p>").addClass("noRanking").text(n.lab_no_rider);utils.ajaxCcrBeforeRenderTable(s),r.hasClass("is-ready")||(r.find(".lab_num_abbr").text(n.lab_num_abbr),r.find(".lab_exp").text(n.lab_exp),r.find(".lab_pilote_vehicule").text(n.lab_pilote_vehicule),r.find(".lab_pilote_equipe").text(n.lab_pilote_equipe),r.find(".lab_marque_modele").text(n.lab_marque_modele),r.find(".lab_temps").text(n.lab_temps),r.find("th.category").text(n.Category),r.find("th.relative").text(n.lab_ecart).addClass(o),r.find("th.penality").text(n.Lab_penalite).addClass(o),r.find("th.position span:first").text(n.lab_position+"."),r.find("th.position span:last").text(n.lab_position.slice(0,3)+"."),r.data("tr",r.find("tr.rider").first().clone()),r.data("td-runner",r.data("tr").find(".name").first().clone()),r.find("tr.rider").remove(),r.addClass("is-ready"));for(var l=0;l<s.length;l++){var d=s[l],p=d.vehicle,b=p.team,c=r.data("tr").clone();c.find(".bib").text(p.bib),""!=p.competitors[0].status&&c.find(".statusExp").addClass(p.competitors[0].status),c.find(".runner .name").remove();for(var f=0;f<p.competitors.length;f++)if(null!=p.competitors[f]){var g=p.competitors[f].rider,h=r.data("td-runner").clone(),m=e.name.trim().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),u=new RegExp(m.replace(/\s+/g," "),"ig");g.nationality&&h.find(".flag").addClass("flag--"+g.nationality.code.toLowerCase()+" is-loaded"),!i&&a.enableCompetitorPage&&a.enableLink?(h.find("a.names").text(g.firstname+" "+g.lastname).attr("data-xtclick","rankingTable::"+d.rankingType.type.toUpperCase()).attr("href",p.path),h.find("span.names").remove()):(h.find("span.names").text(g.firstname+" "+g.lastname),h.find("a.names").remove()),h.find(".names").each(function(){$(this).html($(this).text().replace(u,'<span class="matches">$&</span>'))}),c.find(".runner").append(h)}c.find(".time").append(utils.toTime(d.absolute)),d.relative&&c.find(".relative").addClass(o).append(utils.toTime(d.relative,"+")),d.penality&&c.find(".penality").addClass(o).append(utils.toTime(d.penality,"-")),c.find(".team-name").text(b.name);var j=d.rankingType.stage.category.shortLabel;d.rankingType.categoryGroup&&(j+=" - "+d.rankingType.categoryGroup.longLabel,d.rankingType.categoryClazz&&(j+="."+d.rankingType.categoryClazz.longLabel)),c.find(".category-labels").text(j),c.find(".position-label").text(d.position),r.removeClass("is-hidden").find("tbody").append(c)}return r}}),$(".pageRank").on("click",".js-expand-rider",function(){$(this).hasClass("is-expand")?($(this).removeClass("is-expand"),$(this).closest("tr").find('[data-expand="true"]').addClass("no-expand")):($(this).addClass("is-expand"),$(this).closest("tr").find('[data-expand="true"]').removeClass("no-expand"),bLazy.revalidate(),os._scroll())}),$(".js-dropdown-subnav").on("show.bs.dropdown",function(){var t=$(this),a=$(document.body).hasClass("is-rtl"),e=-t.offset().left,s=document.body.clientWidth;if(s<768){var n=$(this).find(".js-dropdown-menu");a?n.css({width:s,right:-(s-t.offset().left-t.width())}):n.css({left:e,width:s})}}),$(".js-dropdown-subnav").on("hidden.bs.dropdown",function(){$(this).find(".js-dropdown-menu").css({left:"",width:""})})})}},[[47,0]]]);